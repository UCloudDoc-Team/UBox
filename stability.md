## 网络稳定性保障：



| 问题                                       | 解决方案                                                     |
| ------------------------------------------ | ------------------------------------------------------------ |
| 不明原因的硬件问题卡死                     | watchdog重启机制（30s探测）                                  |
| 不明原因的网络中断                         | 自研wireguard混淆协议，长期维护，解决VPN协议被定向封锁或者误杀问题 |
| 4G网络受环境因素干扰多，信号不稳定甚至中断 | 1、硬件自重启<br>当盒子探测到盒子网络无法联通时，会触发自动重启硬件<br>2、模组自重启<br>当发现某张卡信号降至2G/3G为不可用状态或者网络中断，进行重启模组拨号中断判断条件：探测间隔4s，探测反馈时间8s，探测次数3轮，重启间隔>40s<br>3、丢包检测<br>当某张卡丢包超过阈值，处于业务不可用状态，自动down掉坏卡，恢复整体网络 |
| 设备重启后恢复时间长，可能无法恢复         | 思路：面向快速恢复做定向优化，控制总恢复时长到20秒内<br>系统层：裁剪及优化Linux内核、Network等核心组件<br>网络层：自研4G/5G模组控制程序<br>网络层：使用更轻量隧道协议wireguard |




